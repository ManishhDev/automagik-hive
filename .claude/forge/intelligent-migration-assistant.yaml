# Forge Template: Intelligent Migration Assistant
# Enhanced with MCP integration, memory, and WhatsApp notifications
# Zero-downtime migration strategies with comprehensive risk analysis

name: "intelligent-migration-assistant"
title: "Migrate [system/component] with zero-downtime strategy"
description: "AI-powered migration planning with Agno patterns, risk analysis, automated rollback strategies, and comprehensive validation"

## Memory Context
<memory>
<!-- Previous migration experiences, rollback scenarios, risk patterns, and successful strategies -->
</memory>

## Agno Migration Pattern Research
### Research Phase
- [ ] Search agno-agi/agi for migration patterns and strategies using ask-repo-agent
- [ ] Query context7/agno for zero-downtime migration best practices using search-repo-docs
- [ ] Research Agno's system evolution and backward compatibility approaches
- [ ] Identify multi-agent coordination patterns during system transitions
- [ ] Study Agno's rollback and recovery mechanisms for failed migrations
- [ ] Cross-reference with existing Automagik Hive migration patterns

## Contextual Migration Analysis for Automagik Hive
### 1. Current System Landscape Assessment
- [ ] Map existing system architecture and component dependencies
- [ ] Document current data flows and integration points
- [ ] Identify critical business processes and their system dependencies
- [ ] Assess current system performance baselines and SLIs
- [ ] Review existing backup and recovery mechanisms
- [ ] Document current monitoring and alerting systems

### 2. Migration Scope and Impact Analysis
- [ ] Define migration boundaries and affected components
- [ ] Identify data migration requirements and transformation needs
- [ ] Map external system integrations requiring updates
- [ ] Assess user impact and communication requirements
- [ ] Document compliance and regulatory considerations
- [ ] Evaluate resource requirements and timeline constraints

### 3. Risk Assessment and Mitigation Planning
- [ ] Identify high-risk migration scenarios and failure points
- [ ] Document data loss prevention and validation strategies
- [ ] Plan rollback triggers and automated recovery procedures
- [ ] Assess business continuity requirements during migration
- [ ] Design testing strategies for migration validation
- [ ] Create contingency plans for critical failure scenarios

## Comprehensive Migration Planning Checklist

### 1. Pre-Migration Preparation
- [ ] Create comprehensive system backup and validation procedures
- [ ] Establish migration environment with production-like data
- [ ] Set up monitoring and alerting for migration process
- [ ] Prepare rollback scripts and automated recovery procedures
- [ ] Validate migration scripts with non-production data
- [ ] Create detailed runbook with step-by-step procedures
- [ ] Establish communication plan and stakeholder notifications

### 2. Data Migration Strategy
- [ ] Use postgres tool to validate database migration procedures
- [ ] Design data transformation and validation pipelines
- [ ] Implement incremental migration with change data capture
- [ ] Create data integrity validation and verification procedures
- [ ] Plan for data synchronization during transition period
- [ ] Design conflict resolution strategies for concurrent updates
- [ ] Establish data rollback and recovery procedures

### 3. Zero-Downtime Migration Execution
- [ ] Implement blue-green deployment strategy for zero-downtime
- [ ] Design canary migration with gradual traffic shifting
- [ ] Create feature flags for controlled feature rollout
- [ ] Implement database read replicas for seamless transitions
- [ ] Design API versioning strategy for backward compatibility
- [ ] Plan load balancer configuration for traffic management
- [ ] Create health checks and automated failover mechanisms

### 4. Integration and Dependency Management
- [ ] Update external system integrations and API contracts
- [ ] Migrate authentication and authorization configurations
- [ ] Update monitoring, logging, and observability systems
- [ ] Migrate configuration management and environment variables
- [ ] Update CI/CD pipelines and deployment configurations
- [ ] Validate third-party service integrations and connections
- [ ] Test inter-service communication and message queues

### 5. Validation and Testing Procedures
- [ ] Execute comprehensive functional testing on migrated system
- [ ] Perform load testing to validate performance characteristics
- [ ] Conduct security testing and vulnerability assessment
- [ ] Validate data integrity and consistency across systems
- [ ] Test rollback procedures and recovery mechanisms
- [ ] Perform user acceptance testing with stakeholder validation
- [ ] Execute disaster recovery testing and business continuity validation

### 6. Post-Migration Operations
- [ ] Monitor system performance and stability metrics
- [ ] Validate business process functionality and user workflows
- [ ] Clean up legacy systems and deprecated components
- [ ] Update documentation and operational procedures
- [ ] Conduct post-migration review and lessons learned session
- [ ] Optimize system performance based on migration insights
- [ ] Plan for legacy system decommissioning timeline

## Database Migration Validation (if applicable)
- [ ] Use postgres tool to validate schema migration procedures
- [ ] Test database performance under production load conditions
- [ ] Validate data consistency and referential integrity
- [ ] Test backup and recovery procedures for new database
- [ ] Verify replication and high availability configurations
- [ ] Validate database security and access control configurations

## Pattern Compliance Validation
- [ ] Verify migration strategy follows Agno framework evolution patterns
- [ ] Check alignment with context7/agno migration best practices
- [ ] Validate consistency with Automagik Hive operational standards
- [ ] Ensure migration maintains system reliability and performance
- [ ] Document migration decisions and architectural trade-offs
- [ ] Confirm compliance with enterprise security and governance requirements

## Memory-Driven Migration Insights
- [ ] Apply successful migration strategies from previous executions
- [ ] Reference effective rollback patterns from historical migrations
- [ ] Leverage lessons learned from past migration challenges
- [ ] Cross-check against known migration anti-patterns and failures
- [ ] Apply historical performance optimization insights
- [ ] Utilize proven risk mitigation strategies from memory

## Goal
Execute comprehensive system migration with zero downtime, minimal risk, and full rollback capability while maintaining data integrity and business continuity throughout the transition process.

## Deliverables
1. **Migration strategy document** with detailed execution plan and timeline
2. **Risk assessment report** with mitigation strategies and contingency plans
3. **Data migration procedures** with validation and rollback mechanisms
4. **Zero-downtime deployment strategy** with blue-green or canary approach
5. **Rollback procedures** with automated recovery and validation scripts
6. **Post-migration validation** with comprehensive testing and monitoring setup

## Success Criteria
- [ ] Migration completed with zero unplanned downtime
- [ ] Data integrity maintained with 100% validation success
- [ ] System performance meets or exceeds baseline metrics
- [ ] All integrations functional and validated post-migration
- [ ] Rollback procedures tested and verified as functional
- [ ] Business processes operating normally after migration
- [ ] Migration strategy aligns with Agno framework patterns
- [ ] Stakeholder approval and acceptance of migrated system

## Automated Learning Capture
The system will automatically capture:
- Effective migration strategies and execution patterns
- Risk mitigation approaches and their success rates
- Data migration techniques and validation methodologies
- Zero-downtime deployment patterns and optimization insights
- Rollback scenario handling and recovery procedures
- Stakeholder communication strategies and approval processes

---

**Enhanced with MCP Integration**: This template leverages ask-repo-agent for Agno migration research, search-repo-docs for context7 migration approaches, postgres tool for database migration validation, and intelligent memory system for migration pattern learning and risk assessment optimization.